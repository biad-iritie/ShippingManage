(this.webpackJsonpshipmanage=this.webpackJsonpshipmanage||[]).push([[5],{1640:function(e,a,t){"use strict";t.r(a);var r=t(89),c=t.n(r),s=t(155),l=t(8),n=t(0),o=t.n(n),m=t(1600),i=t(1599),p=t(1602),u=t(1562),d=Object(u.a)((function(e){return{icon:{fontSize:"44px",opacity:.6,color:e.palette.primary.main}}}),{withTheme:!0})((function(e){return o.a.createElement(m.a,{container:!0,spacing:3,className:"mb-3"},o.a.createElement(m.a,{item:!0,xs:12,md:6},o.a.createElement(i.a,{className:"play-card p-sm-24 bg-paper",elevation:6},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(p.a,{className:e.classes.icon},"hourglass_empty"),o.a.createElement("div",{className:"ml-3"},o.a.createElement("small",{className:"text-muted"},"Stand By"),o.a.createElement("h6",{className:"m-0 mt-1 text-primary font-medium"},e.step1," Package(s)"))))),o.a.createElement(m.a,{item:!0,xs:12,md:6},o.a.createElement(i.a,{className:"play-card p-sm-24 bg-paper",elevation:6},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(p.a,{className:e.classes.icon},"hourglass_full"),o.a.createElement("div",{className:"ml-3"},o.a.createElement("small",{className:"text-muted"},"Received"),o.a.createElement("h6",{className:"m-0 mt-1 text-primary font-medium"},e.step2," Package(s)"))))),o.a.createElement(m.a,{item:!0,xs:12,md:6},o.a.createElement(i.a,{className:"play-card p-sm-24 bg-paper",elevation:6},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(p.a,{className:e.classes.icon},"redo"),o.a.createElement("div",{className:"ml-3"},o.a.createElement("small",{className:"text-muted"},"In Transit"),o.a.createElement("h6",{className:"m-0 mt-1 text-primary font-medium"},e.step3," Package(s)"))))),o.a.createElement(m.a,{item:!0,xs:12,md:6},o.a.createElement(i.a,{className:"play-card p-sm-24 bg-paper",elevation:6},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(p.a,{className:e.classes.icon},"shopping_cart"),o.a.createElement("div",{className:"ml-3"},o.a.createElement("small",{className:"text-muted"},"Arrived"),o.a.createElement("h6",{className:"m-0 mt-1 text-primary font-medium"},e.step4," Package(s)"))))))})),E=t(782),h=t(790),f=t(785),N=t(784),g=t(783),x=t(102),b=function(e){return o.a.createElement(i.a,{elevation:3,className:"pt-5 mb-6"},o.a.createElement("div",{className:"card-title px-6 mb-3"},"Last 15 packages"),o.a.createElement("div",{className:"overflow-auto"},o.a.createElement(E.a,{className:"product-table"},o.a.createElement(h.a,null,o.a.createElement(f.a,{align:"center"},o.a.createElement(N.a,{className:"px-10 capitalize",colSpan:4},"Code"),o.a.createElement(N.a,{className:"px-10 capitalize",colSpan:4},"City"),o.a.createElement(N.a,{className:"px-10 capitalize",colSpan:4},"Content"),o.a.createElement(N.a,{className:"px-10 capitalize",colSpan:4},"Status"),o.a.createElement(N.a,{className:"px-10 capitalize",colSpan:4},"Price"))),o.a.createElement(g.a,null,e.orders.length>0?e.orders.map((function(e,a){return o.a.createElement(f.a,{key:a,align:"center"},o.a.createElement(N.a,{className:"px-0 capitalize",colSpan:4},o.a.createElement("div",{className:"flex items-center",onClick:function(){x.a.push("/order/detail_order",[{order:{id:e.id}}])}},o.a.createElement("p",{className:"m-0 ml-8"},e.code))),o.a.createElement(N.a,{className:"px-0 capitalize",colSpan:4},o.a.createElement("div",{className:"flex items-center"},o.a.createElement("p",{className:"m-0 ml-8"},e.r_city))),o.a.createElement(N.a,{className:"px-0 capitalize",colSpan:4},o.a.createElement("div",{className:"flex items-center"},o.a.createElement("p",{className:"m-0 ml-8"},e.content))),o.a.createElement(N.a,{className:"px-0 capitalize",align:"left",colSpan:4},"STAND BY"===e.current_statut?o.a.createElement("small",{className:"border-radius-4 bg-primary text-white px-2 py-2px "},"STAND BY"):"RECEIVED"===e.current_statut?o.a.createElement("small",{className:"border-radius-4 bg-gray text-black px-2 py-2px "},"RECEIVED"):"IN TRANSIT"===e.current_statut?o.a.createElement("small",{className:"border-radius-4 bg-light-primary text-white px-2 py-2px "},"IN TRANSIT"):"ARRIVED"===e.current_statut?o.a.createElement("small",{className:"border-radius-4 bg-secondary text-white px-2 py-2px "},"ARRIVED"):"READY FOR PICKUP"===e.current_statut?o.a.createElement("small",{className:"border-radius-4 bg-light-green text-white px-2 py-2px "},"READY FOR PICKUP"):o.a.createElement("small",{className:"border-radius-4 bg-green text-white px-2 py-2px "},"SIGNED")),o.a.createElement(N.a,{className:"px-0 capitalize",colSpan:4},e.price?e.price:o.a.createElement("small",{className:"border-radius-4 px-2 py-2px"},"?")))})):o.a.createElement("small",{className:"border-radius-4 px-2 py-2px "},"No package yet !")))))},y=t(1619),w=function(e){return o.a.createElement(m.a,{container:!0,spacing:3,className:"mb-6"},o.a.createElement(m.a,{item:!0,xs:12,md:6},o.a.createElement(i.a,{elevation:3,className:"p-4"},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(y.a,{size:"medium",className:"bg-light-green circle-44 box-shadow-none overflow-hidden"},o.a.createElement(p.a,null,"store")),o.a.createElement("h5",{className:"font-medium text-secondary m-0 ml-3"},"Ready For Pick Up"),o.a.createElement("h2",{className:"m-0 ml-5 text-muted"},e.step5)))),o.a.createElement(m.a,{item:!0,xs:12,md:6},o.a.createElement(i.a,{elevation:3,className:"p-4"},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(y.a,{size:"medium",className:"bg-green circle-44 box-shadow-none"},o.a.createElement(p.a,null,"done_all")),o.a.createElement("h5",{className:"font-medium text-green m-0 ml-3"},"Signed"),o.a.createElement("h2",{className:"m-0 ml-7 text-muted justify-end"},e.step6)))))},v=t(5),j=t.n(v),O=t(29),S=t(56),k=t(25),P=t(27),_=t(160),Q=t(137);a.default=Object(u.a)({},{withTheme:!0})(Object(O.b)((function(e){return{loading:j.a.func.isRequired,success:j.a.func.isRequired,user:e.user,orders:e.order,refetchOrder:j.a.func.isRequired,company:e.company}}),{refetchOrder:Q.f,loading:k.f,success:k.i})((function(e){var a=Object(n.useState)("error"),t=Object(l.a)(a,2),r=t[0],i=t[1],p=Object(n.useState)(null),u=Object(l.a)(p,2),E=u[0],h=u[1],f=Object(n.useState)(!1),N=Object(l.a)(f,2),g=N[0],x=(N[1],e.user),y=Object(n.useState)(),v=Object(l.a)(y,2),j=v[0],O=v[1],k=Object(n.useState)(),Q=Object(l.a)(k,2),R=Q[0],I=Q[1],C=Object(n.useState)(),L=Object(l.a)(C,2),D=L[0],z=L[1],A=Object(n.useState)(),T=Object(l.a)(A,2),V=T[0],Y=T[1],F=Object(n.useState)(),B=Object(l.a)(F,2),U=B[0],q=B[1],K=Object(n.useState)(),G=Object(l.a)(K,2),J=G[0],H=G[1],M=(e.theme,Object(P.useQuery)(_.g,{errorPolicy:"all",variables:{role:e.user.role,skip:0,take:15},onCompleted:function(a){e.refetchOrder(a.order_list)},onError:function(){i("error"),Z.networkError&&h("Please try after this action"),Z.graphQLErrors&&Z.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}})),W=M.refetch,X=M.loading,Z=M.error;M.data,Object(P.useQuery)(_.d,{errorPolicy:"all",variables:{role:e.user.role,current_statut:"STAND BY"},onCompleted:function(e){O(e.count_package)},onError:function(){i("error"),Z.networkError&&h("Please try after this action"),Z.graphQLErrors&&Z.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}}).refetch,Object(P.useQuery)(_.d,{errorPolicy:"all",variables:{role:e.user.role,current_statut:"RECEIVED"},onCompleted:function(e){I(e.count_package)},onError:function(e){i("error"),e.networkError&&h("Please try after this action"),e.graphQLErrors&&e.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}}).refetch,Object(P.useQuery)(_.d,{errorPolicy:"all",variables:{role:e.user.role,current_statut:"IN TRANSIT"},onCompleted:function(e){z(e.count_package)},onError:function(){i("error"),Z.networkError&&h("Please try after this action"),Z.graphQLErrors&&Z.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}}).refetch,Object(P.useQuery)(_.d,{errorPolicy:"all",variables:{role:e.user.role,current_statut:"ARRIVED"},onCompleted:function(e){Y(e.count_package)},onError:function(e){i("error"),e.networkError&&h("Please try after this action"),e.graphQLErrors&&e.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}}).refetch,Object(P.useQuery)(_.d,{errorPolicy:"all",variables:{role:e.user.role,current_statut:"READY FOR PICKUP"},onCompleted:function(e){q(e.count_package)},onError:function(){i("error"),Z.networkError&&h("Please try after this action"),Z.graphQLErrors&&Z.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}}).refetch,Object(P.useQuery)(_.d,{errorPolicy:"all",variables:{role:e.user.role,current_statut:"SIGNED"},onCompleted:function(e){H(e.count_package)},onError:function(){i("error"),Z.networkError&&h("Please try after this action"),Z.graphQLErrors&&Z.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}}).refetch;return Object(n.useEffect)((function(){!1===X&&Object(s.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W().then((function(a){e.refetchOrder(a.data.order_list),e.success()})).catch((function(e){console.log(e),i("error"),e.networkError&&h("Please try after this action"),e.graphQLErrors&&e.graphQLErrors.map((function(e){var a=e.message;e.locations,e.path;"Not authenticated"===a||"jwt expired"===a?window.location.reload():h(a)}))}));case 2:case"end":return a.stop()}}),a)})))()}),[X]),o.a.createElement(n.Fragment,null,o.a.createElement(S.a,{show:g,info:E,variant:r}),o.a.createElement("div",{className:"pb-24 pt-7 px-8 analytics m-sm-30 mt--30"},o.a.createElement(m.a,{container:!0,spacing:3},o.a.createElement(m.a,{item:!0,lg:8,md:8,sm:12,xs:12},o.a.createElement(d,{step1:j,step2:R,step3:D,step4:V}),o.a.createElement(w,{step5:U,step6:J})),o.a.createElement(m.a,{item:!0,lg:4,md:4,sm:12,xs:12}),o.a.createElement(m.a,null,o.a.createElement(b,{user:x,orders:e.orders})))))})))}}]);